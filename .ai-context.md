# AI Context - Meta Tracking Lab

**Last Updated:** January 15, 2026
**Architecture:** Next.js 15 + React 19 + Interactive Meta Integration

---

## ğŸ¯ Project Overview

An **interactive educational platform** for Meta Pixel and Conversions API tracking. Each documentation page includes:
- Educational content explaining concepts
- **Real Meta event sending** (both Pixel and CAPI)
- Live network inspection
- Broken vs Fixed comparisons
- Production-ready code examples

---

## ğŸ“ Current Architecture

### Pages Structure (Individual TSX Files)
```
app/
â”œâ”€â”€ page.tsx                              # Home page
â”œâ”€â”€ layout.tsx                            # Root layout with fonts
â”œâ”€â”€ globals.css                           # Global styles + hacker theme
â”œâ”€â”€ getting-started/
â”‚   â”œâ”€â”€ setup-checklist/page.tsx         # âœ… Setup instructions
â”‚   â””â”€â”€ demo-controls/page.tsx           # âœ… Playground tutorial
â”œâ”€â”€ problems/
â”‚   â”œâ”€â”€ duplicate-events/page.tsx        # âœ… FULLY INTERACTIVE (8 scenarios)
â”‚   â””â”€â”€ missing-events/page.tsx          # âœ… Basic version
â”œâ”€â”€ capi-test/page.tsx                   # âœ… Interactive CAPI testing
â””â”€â”€ api/
    â”œâ”€â”€ meta/capi/route.ts               # CAPI endpoint
    â””â”€â”€ setup-status/route.ts            # Status check endpoint
```

**Note:** Each page is a standalone TSX file with its own content and interactive playground.

### Components (Current)
```
components/
â”œâ”€â”€ enhanced-event-playground.tsx        # âœ… CURRENT - Real Meta integration
â”œâ”€â”€ page-content.tsx                     # Layout wrapper for doc pages
â”œâ”€â”€ app-shell.tsx                        # Main app layout
â”œâ”€â”€ setup-status-panel.tsx               # Sidebar status display
â”œâ”€â”€ facebook-pixel.tsx                   # Pixel initialization
â”œâ”€â”€ page-shell.tsx                       # Page container
â”œâ”€â”€ theme-provider.tsx                   # Dark mode
â””â”€â”€ ui/                                  # shadcn/ui components
```

**Deprecated Components (DELETED):**
- âŒ `demo-panel.tsx` - replaced by enhanced-event-playground
- âŒ `event-playground.tsx` - replaced by enhanced version
- âŒ `locked-event-playground.tsx` - no longer used

### Navigation
```
content/
â””â”€â”€ nav.ts                               # Navigation items for sidebar
```

**Deprecated:**
- âŒ `pages-registry.ts` - deleted (replaced by individual pages)

---

## ğŸ¨ Design System

### Theme: Hacker/Cyberpunk
- **Primary Colors:** `#00ff41` (neon green), `#00d9ff` (cyan)
- **Backgrounds:** `#0a0e14` (dark), `#151b26` (cards)
- **Fonts:** 
  - Inter (body)
  - JetBrains Mono (code/monospace)

### Key CSS Classes
- `glass` / `glass-strong` - Glassmorphism effect
- `hover-glow` / `hover-lift` - Interactive hover effects
- `border-animated` - Pulsing borders
- `text-glow-hover` - Text glow on hover
- `button-neon` - Cyberpunk buttons

---

## ğŸš€ EnhancedEventPlayground Component

### Purpose
The core interactive component that sends **REAL** events to Meta and displays full network transparency.

### Location
`components/enhanced-event-playground.tsx`

### Key Features
- âœ… Sends to Meta Pixel via `fbq()`
- âœ… Sends to CAPI via `/api/meta/capi`
- âœ… Network Inspector (3 tabs)
- âœ… Event History logging
- âœ… Match quality display
- âœ… Meta Events Manager integration
- âœ… Copy-to-clipboard
- âœ… Broken vs Fixed mode toggle

### Props
```typescript
{
  title?: string
  description?: string
  events: Array<{
    name: string
    icon?: React.ReactNode
    brokenPayload?: any
    fixedPayload?: any
    description?: string
  }>
  showModeToggle?: boolean
  showLogs?: boolean
  sendToMeta?: boolean
  sendToBoth?: boolean
  showNetworkInspector?: boolean
  showMetaResponse?: boolean
  testEventCode?: string
  pixelId?: string
}
```

### Usage Example
```typescript
import { EnhancedEventPlayground } from "@/components/enhanced-event-playground"

const customEvents = [
  {
    name: "Test Event",
    icon: <Zap className="h-4 w-4 text-[#00ff41]" />,
    description: "What this example demonstrates",
    brokenPayload: {
      event_name: "Purchase",
      // Missing critical fields
    },
    fixedPayload: {
      event_name: "Purchase",
      event_id: `purchase_${Date.now()}`,
      event_time: Math.floor(Date.now() / 1000),
      custom_data: { currency: "USD", value: 99.99 }
    }
  }
]

<EnhancedEventPlayground
  title="Your Custom Title"
  description="What users will learn"
  events={customEvents}
  sendToMeta={true}
  sendToBoth={true}
  showNetworkInspector={true}
  pixelId={process.env.NEXT_PUBLIC_FB_PIXEL_ID}
/>
```

---

## ğŸ“Š Page Status

### Complete (6 pages)
1. âœ… Home (`/`)
2. âœ… Setup Checklist (`/getting-started/setup-checklist`)
3. âœ… Demo Controls (`/getting-started/demo-controls`)
4. âœ… Missing Events (`/problems/missing-events`)
5. âœ… Duplicate Events (`/problems/duplicate-events`) - **FULLY INTERACTIVE**
6. âœ… CAPI Test (`/capi-test`)

### To Build (11 pages)
Each needs 6-8 custom event examples with the EnhancedEventPlayground component.

See `ENHANCED_INTERACTIVE_GUIDE.md` for complete implementation details and pre-written event examples.

---

## ğŸ”§ Environment Variables

```bash
# Required
NEXT_PUBLIC_FB_PIXEL_ID=your_pixel_id

# Optional for testing
META_CAPI_ACCESS_TOKEN=your_access_token
META_TEST_EVENT_CODE=TEST12345
```

---

## âš ï¸ Common Mistakes to Avoid

### 1. Using Deleted Components
âŒ DON'T import `demo-panel`, `event-playground`, or `locked-event-playground`
âœ… DO use `enhanced-event-playground`

### 2. Using Registry System
âŒ DON'T try to edit `pages-registry.ts` (deleted)
âœ… DO create individual page files in `app/` directory

### 3. Using Dynamic Route
âŒ DON'T use `app/[...slug]/page.tsx` (deleted)
âœ… DO create individual route folders like `app/problems/your-page/page.tsx`

### 4. ESLint Issues
âŒ Unescaped apostrophes in JSX
âœ… Use `&apos;` or regular strings

âŒ Missing dependencies in `useEffect`
âœ… Wrap functions in `useCallback` and add to deps

---

## ğŸ“š Documentation

### Primary References
1. **`ENHANCED_INTERACTIVE_GUIDE.md`** - Complete implementation guide with pre-written examples
2. **`INTERACTIVE_TRANSFORMATION_COMPLETE.md`** - Current project status
3. **`LINTING_AND_BEST_PRACTICES.md`** - Code quality standards
4. **`README.md`** - Project overview

### Deprecated (DELETED)
- âŒ All `REFACTOR_SUMMARY`, `TRANSFORMATION_COMPLETE`, etc. (outdated)
- âŒ `CHATGPT_PAGE_BUILDER_PROMPT.md` (replaced by ENHANCED_INTERACTIVE_GUIDE)
- âŒ `features-implemented/` folder (outdated)

---

## ğŸ¯ Next Steps for Development

### Building New Pages

1. **Copy Template**
   ```bash
   cp app/problems/duplicate-events/page.tsx app/problems/new-page/page.tsx
   ```

2. **Define Custom Events**
   - 6-8 examples per page
   - Each with broken & fixed payloads
   - See `ENHANCED_INTERACTIVE_GUIDE.md` for pre-written examples

3. **Update Content**
   - Title/description
   - Problem explanation
   - Implementation guide
   - Best practices

4. **Test**
   - Send events to Meta
   - Verify in Events Manager
   - Check Network Inspector

**Time:** 30-45 minutes per page using the guide

---

## ğŸš€ Key Technologies

- **Next.js 15** - App Router
- **React 19** - Latest features
- **TypeScript** - Type safety
- **Tailwind CSS** - Styling with custom theme
- **shadcn/ui** - UI components
- **Meta Pixel** - Client-side tracking
- **Conversions API** - Server-side tracking
- **Sonner** - Toast notifications

---

## âœ¨ What Makes This Project Special

**Not just documentation** - It's an **interactive learning laboratory**:
- Users send REAL events to Meta
- See EXACTLY what's sent (Pixel & CAPI)
- View Meta's actual response
- Compare broken vs fixed implementations
- Copy production-ready code
- Verify in their own Meta Events Manager

**Result:** Users learn by doing, not just reading.
